<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ì½” ì¹´ì¹´ì˜¤í†¡ ë¶„ì„ê¸°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .upload-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .upload-section:hover {
            transform: translateY(-5px);
        }

        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 50px 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: #f8f9ff;
        }

        .upload-area:hover {
            border-color: #764ba2;
            background: #f0f2ff;
        }

        .upload-area.drag-over {
            border-color: #4CAF50;
            background: #e8f5e8;
        }

        .upload-icon {
            font-size: 4rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .upload-text {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 10px;
        }

        .upload-subtext {
            color: #666;
            font-size: 0.9rem;
        }

        #fileInput {
            display: none;
        }

        .results-section {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .results-header h2 {
            color: #333;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .debug-toggle {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-bottom: 15px;
        }

        .debug-toggle:hover {
            background: #5a6268;
        }

        .debug-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            font-family: monospace;
            font-size: 0.85rem;
            max-height: 200px;
            overflow-y: auto;
            border-left: 4px solid #667eea;
            display: none;
        }

        .debug-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-family: 'Segoe UI', sans-serif;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .chart-container {
            margin-bottom: 30px;
            height: 400px;
            position: relative;
            display: block;
        }

        .chart-container.hidden {
            display: none;
        }

        .keyword-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .keyword-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .keyword-header h3 {
            color: #333;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .keyword-search-section {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 2px solid #e3e7ff;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #d1d5db;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            border-color: #667eea;
        }

        .search-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s ease;
        }

        .search-btn:hover {
            background: #5a6fd8;
        }

        .search-result {
            display: none;
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .keyword-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .keyword-stat {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #667eea;
        }

        .keyword-stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .keyword-stat-label {
            font-size: 0.85rem;
            color: #666;
        }

        .keyword-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 25px;
            min-height: 150px;
            align-items: center;
        }

        .keyword-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 500;
            transition: transform 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .keyword-item:hover {
            transform: scale(1.1);
        }

        .keyword-item::after {
            content: attr(data-count);
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .emotion-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .emotion-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .emotion-header h3 {
            color: #333;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .emotion-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .emotion-stat {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .emotion-stat.positive {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .emotion-stat.negative {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .emotion-stat.neutral {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }

        .emotion-stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .emotion-stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .emotion-chart-container {
            height: 300px;
            position: relative;
            margin-bottom: 20px;
        }

        .table-container, .keyword-table-container {
            max-height: 400px;
            overflow-y: auto;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        .keyword-table-container {
            max-height: 300px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #f5f5f5;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        tr:hover {
            background: #f8f9ff;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            color: #e74c3c;
            background: #ffeaea;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .reset-btn, .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: background 0.3s ease;
        }

        .reset-btn:hover, .copy-btn:hover {
            background: #5a6fd8;
        }

        .copy-btn {
            background: #27ae60;
        }

        .copy-btn:hover {
            background: #229954;
        }

        .copy-success {
            color: #27ae60;
            font-size: 0.9rem;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .copy-success.show {
            opacity: 1;
        }

        .button-container {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ™ ëª¨ì½” ì¹´ì¹´ì˜¤í†¡ ë¶„ì„ê¸°</h1>
            <p>ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ë‚ ì§œë³„ ëŒ€í™”ëŸ‰ì„ ë¶„ì„í•´ë³´ì„¸ìš”</p>
        </div>

        <div class="upload-section">
            <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                <div class="upload-icon">ğŸ“</div>
                <div class="upload-text">ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… íŒŒì¼ì„ ì„ íƒí•˜ê±°ë‚˜ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ì„¸ìš”</div>
                <div class="upload-subtext">ì§€ì› í˜•ì‹: .txt íŒŒì¼</div>
            </div>
            <input type="file" id="fileInput" accept=".txt" />
            
            <div class="loading">
                <div class="spinner"></div>
                <div>íŒŒì¼ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</div>
            </div>
            
            <div class="error"></div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2>ğŸ“Š ë¶„ì„ ê²°ê³¼</h2>
                <button class="debug-toggle" onclick="toggleDebug()">ğŸ” ë””ë²„ê·¸ ì •ë³´ ë³´ê¸°</button>
            </div>

            <div class="debug-section" id="debugSection">
                <div class="debug-title">íŒŒì¼ ë¶„ì„ ë””ë²„ê·¸ ì •ë³´</div>
                <div id="debugContent"></div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalMessages">0</div>
                    <div class="stat-label">ì´ ë©”ì‹œì§€ ìˆ˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalDays">0</div>
                    <div class="stat-label">ëŒ€í™” ì¼ìˆ˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgMessages">0</div>
                    <div class="stat-label">ì¼í‰ê·  ë©”ì‹œì§€</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="maxMessages">0</div>
                    <div class="stat-label">ìµœëŒ€ ì¼ ë©”ì‹œì§€</div>
                </div>
            </div>

            <div class="chart-container">
                <canvas id="chatChart"></canvas>
            </div>

            <div class="keyword-section">
                <div class="keyword-header">
                    <h3>ğŸ” í•µì‹¬ í‚¤ì›Œë“œ ë¶„ì„</h3>
                    <p style="color: #666; font-size: 0.9rem;">ëŒ€í™”ì˜ í•µì‹¬ ì£¼ì œì™€ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤ (2ê¸€ì ì´ìƒ, 2íšŒ ì´ìƒ ì–¸ê¸‰)</p>
                </div>

                <div class="keyword-search-section">
                    <div class="search-box">
                        <input type="text" class="search-input" id="keywordSearchInput" placeholder="íŠ¹ì • í‚¤ì›Œë“œê°€ ì–¼ë§ˆë‚˜ ì–¸ê¸‰ë˜ì—ˆëŠ”ì§€ ê²€ìƒ‰í•´ë³´ì„¸ìš”...">
                        <button class="search-btn" onclick="searchKeyword()">ğŸ” ê²€ìƒ‰</button>
                    </div>
                    <div class="search-result" id="searchResult">
                        <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <div class="keyword-stats">
                    <div class="keyword-stat">
                        <div class="keyword-stat-number" id="totalWords">0</div>
                        <div class="keyword-stat-label">ì´ ë‹¨ì–´ ìˆ˜</div>
                    </div>
                    <div class="keyword-stat">
                        <div class="keyword-stat-number" id="uniqueWords">0</div>
                        <div class="keyword-stat-label">ê³ ìœ  ë‹¨ì–´ ìˆ˜</div>
                    </div>
                    <div class="keyword-stat">
                        <div class="keyword-stat-number" id="avgWordsPerMessage">0</div>
                        <div class="keyword-stat-label">ë©”ì‹œì§€ë‹¹ í‰ê·  ë‹¨ì–´</div>
                    </div>
                </div>

                <div class="keyword-cloud" id="keywordCloud">
                    <!-- í‚¤ì›Œë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <div class="keyword-table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ìˆœìœ„</th>
                                <th>í‚¤ì›Œë“œ</th>
                                <th>ë¹ˆë„</th>
                                <th>ë¹„ìœ¨</th>
                            </tr>
                        </thead>
                        <tbody id="keywordTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="emotion-section">
                <div class="emotion-header">
                    <h3>ğŸ˜Š ê°ì • ë¶„ì„</h3>
                    <p style="color: #666; font-size: 0.9rem;">ëŒ€í™”ì˜ ì „ë°˜ì ì¸ ê°ì •ê³¼ ë¶„ìœ„ê¸°ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤</p>
                </div>

                <div class="emotion-stats">
                    <div class="emotion-stat positive">
                        <div class="emotion-stat-number" id="positiveCount">0</div>
                        <div class="emotion-stat-label">ê¸ì • ë©”ì‹œì§€</div>
                    </div>
                    <div class="emotion-stat negative">
                        <div class="emotion-stat-number" id="negativeCount">0</div>
                        <div class="emotion-stat-label">ë¶€ì • ë©”ì‹œì§€</div>
                    </div>
                    <div class="emotion-stat neutral">
                        <div class="emotion-stat-number" id="neutralCount">0</div>
                        <div class="emotion-stat-label">ì¤‘ë¦½ ë©”ì‹œì§€</div>
                    </div>
                </div>

                <div class="emotion-chart-container">
                    <canvas id="emotionChart"></canvas>
                </div>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>ë‚ ì§œ</th>
                            <th>ë©”ì‹œì§€ ìˆ˜</th>
                            <th>ë¹„ìœ¨</th>
                        </tr>
                    </thead>
                    <tbody id="dataTable">
                    </tbody>
                </table>
            </div>

            <div class="button-container">
                <button class="copy-btn" onclick="copyResults()">ğŸ“‹ ê²°ê³¼ ë³µì‚¬í•˜ê¸°</button>
                <button class="reset-btn" onclick="resetAnalysis()">ğŸ”„ ìƒˆ íŒŒì¼ ë¶„ì„í•˜ê¸°</button>
                <div class="copy-success" id="copySuccess">í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
            </div>
        </div>
    </div>

    <script>
        let chatChart = null;
        let emotionChart = null;
        let analysisData = null;
        let keywordData = null;
        let emotionData = null;
        let allMessageTexts = [];

        // í•œêµ­ì–´ ë¶ˆìš©ì–´ ë¦¬ìŠ¤íŠ¸ (ëŒ€í­ í™•ì¥)
        const stopWords = new Set([
            // â­ ì‚¬ìš©ì ì§€ì • ì œê±° ë‹¨ì–´ë“¤ (ìš°ì„  ì¶”ê°€)
            'ì €ë„', 'ê·¸ëŸ¼', 'í˜¹ì‹œ', 'ì €ëŠ”', 'ìš”ì¦˜', 'ì´ì œ', 'ë‹˜ë“¤', 'ì´ê±°', 'ì´ê²Œ',
            
            // â­ ì˜ì–´ ë¶ˆìš©ì–´ (ì™„ì „ ì¶”ê°€)
            'a', 'about', 'above', 'across', 'after', 'afterwards', 'again', 'against', 'all', 'almost', 'alone', 'along', 'already', 'also', 'although', 'always', 'am', 'among', 'amongst', 'amoungst', 'amount', 'an', 'and', 'another', 'any', 'anyhow', 'anyone', 'anything', 'anyway', 'anywhere', 'are', 'arena', 'around', 'as', 'at', 'back', 'balloon', 'battle', 'be', 'became', 'because', 'become', 'becomes', 'becoming', 'been', 'before', 'beforehand', 'behind', 'being', 'below', 'beside', 'besides', 'between', 'beyond', 'bill', 'both', 'bottom', 'but', 'by', 'call', 'can', 'cannot', 'cant', 'card', 'challenge', 'champion', 'clan', 'clash', 'clashroyale', 'classic', 'co', 'com', 'common', 'con', 'could', 'couldnt', 'cry', 'cycle', 'de', 'deck', 'describe', 'detail', 'do', 'done', 'down', 'draft', 'due', 'during', 'each', 'eg', 'eight', 'either', 'eleven', 'elixir', 'else', 'elsewhere', 'emote', 'empty', 'enough', 'epic', 'etc', 'even', 'ever', 'every', 'everyone', 'everything', 'everywhere', 'evolution', 'except', 'few', 'fifteen', 'fifty', 'fill', 'find', 'fire', 'first', 'five', 'for', 'former', 'formerly', 'forty', 'found', 'four', 'from', 'front', 'full', 'further', 'get', 'gif', 'give', 'go', 'goblin', 'grand', 'had', 'has', 'hasnt', 'have', 'he', 'hence', 'her', 'here', 'hereafter', 'hereby', 'herein', 'hereupon', 'hers', 'herself', 'him', 'himself', 'his', 'hog', 'how', 'however', 'http', 'https', 'hundred', 'i', 'ie', 'if', 'in', 'inc', 'indeed', 'interest', 'into', 'is', 'it', 'its', 'itself', 'jpg', 'keep', 'ladder', 'last', 'latter', 'latterly', 'least', 'legendary', 'less', 'level', 'loss', 'ltd', 'made', 'many', 'may', 'me', 'meanwhile', 'meta', 'might', 'mill', 'mine', 'mo.co', 'more', 'moreover', 'most', 'mostly', 'move', 'much', 'must', 'my', 'myself', 'name', 'namely', 'neither', 'never', 'nevertheless', 'next', 'nine', 'no', 'nobody', 'none', 'noone', 'nor', 'not', 'nothing', 'now', 'nowhere', 'of', 'off', 'often', 'on', 'once', 'one', 'only', 'onto', 'or', 'other', 'others', 'otherwise', 'our', 'ours', 'ourselves', 'out', 'over', 'own', 'part', 'pass', 'per', 'perhaps', 'please', 'png', 'put', 'ranking', 'rare', 'rather', 're', 'rewards', 'royale', 'same', 'season', 'see', 'seem', 'seemed', 'seeming', 'seems', 'serious', 'several', 'she', 'shop', 'should', 'show', 'side', 'since', 'sincere', 'six', 'sixty', 'so', 'some', 'somehow', 'someone', 'something', 'sometime', 'sometimes', 'somewhere', 'spell', 'still', 'strategy', 'such', 'supercell', 'support', 'system', 'take', 'ten', 'than', 'that', 'the', 'their', 'them', 'themselves', 'then', 'thence', 'there', 'thereafter', 'thereby', 'therefore', 'therein', 'thereupon', 'these', 'they', 'thick', 'thin', 'third', 'this', 'those', 'though', 'three', 'through', 'throughout', 'thru', 'thus', 'to', 'together', 'too', 'top', 'toward', 'towards', 'tower', 'troop', 'trophy', 'twelve', 'twenty', 'two', 'un', 'under', 'unit', 'until', 'up', 'update', 'upon', 'us', 'very', 'via', 'was', 'we', 'well', 'were', 'what', 'whatever', 'when', 'whence', 'whenever', 'where', 'whereafter', 'whereas', 'whereby', 'wherein', 'whereupon', 'wherever', 'whether', 'which', 'while', 'whither', 'who', 'whoever', 'whole', 'whom', 'whose', 'why', 'wildcard', 'will', 'win', 'winrate', 'with', 'within', 'without', 'would', 'yet', 'you', 'your', 'yours', 'yourself', 'yourselves',
            
            // â­ ì¶”ê°€ í•œêµ­ì–´/ê²Œì„ ë¶ˆìš©ì–´
            'ã„±ã„±', 'ã„´ã„´', 'ã„´ã…‡ã……', 'ã„·ã„·', 'ã„¹ã…‡', 'ã…ã…', 'ã…‚ã…‚', 'ã……ã……', 'ã…‡ã…‡', 'ã…‹ã…‹', 'ã…‹ã…‹ã…‹', 'ã…ã…‡', 'ã…ã…', 'ã…ã…ã…', 'ã… ã… ', 'ã… ã… ã… ',
            'ê°ì „', 'ê°™ë‹¤', 'ê°™ì•„ìš”', 'ê°™ì€', 'ê±°ê¸°', 'ê²Œì„', 'ê²œ', 'ê³µê²©', 'êµ¿êµ¿', 'ê·¸ê±°', 'ê·¸ê±´', 'ê·¸ê²Œ', 'ê·¸ëƒ¥', 'ê·¸ë‹ˆê¹Œ', 'ê·¸ë•Œ', 'ê·¸ë˜', 'ê·¸ë˜ë„', 'ê·¸ë˜ì„œ', 'ê·¸ë¬ë‹¤', 'ê·¸ëŸ¬ë©´', 'ê·¸ëŸ°', 'ê·¸ëŸ°ë°', 'ê·¸ëŸ¼', 'ê·¸ë ‡ê²Œ', 'ê·¸ë¦¬ê³ ', 'ê·¼ë°', 'ê¹Œì§€', 'ë‚´ì¼', 'ë„ˆë¬´', 'ëˆ„ê°€', 'ëˆ„êµ¬', 'ë‹¤ì‹œ', 'ë±', 'ë±ì¶”ì²œ', 'ë™ì˜ìƒ', 'ëë‹¤', 'ëì–´ìš”', 'ë˜ê²Œ', 'ë˜ê³ ', 'ë˜ë‚˜', 'ë˜ëŠ”', 'ë˜ì„œ', 'ë˜ì–´', 'ëœë‹¤', 'ë¨', 'ë•Œë¬¸', 'ë•Œë¬¸ì—', 'ë˜í•œ', 'ë¼ê³ ', 'ë­í‚¹ì „', 'ë§í¬', 'ë§‰', 'ë§ì´', 'ëª¨í•˜ë©”ë“œ', 'ë¬´ìŠ¨', 'ë¬´ì—‡', 'ë­ëƒ', 'ë­ì•¼', 'ë­ì—ìš”', 'ë­ì§€', 'ë­”', 'ë­”ê°€', 'ë­˜', 'ë°', 'ë´ë„', 'ë´ì„œ', 'ë´ìš”', 'ë´¤ëŠ”ë°', 'ë´¤ë‹¤', 'ë´¤ì–´ìš”', 'ë¶€í„°', 'ì‚¬ì§„', 'ì‹¶ì–´ìš”', 'ì‹¶ì€', 'ì•„', 'ì•„ë‹ˆë©´', 'ì•„ë ˆë‚˜', 'ì•„ë§ˆ', 'ì•„ì•—', 'ì•Šì•„ìš”', 'ì•—', 'ì•¼', 'ì•¼í˜¸', 'ì–´ë””', 'ì–´ë–¤', 'ì–´ë–»ê²Œ', 'ì–¸ì œ', 'ì—†ë‹¤', 'ì—†ì–´ìš”', 'ì—†ìŒ', 'ì—¥', 'ì—¬ê¸°', 'ì˜€ì–´ìš”', 'ì˜ì›…', 'ì˜¤', 'ì˜¤ëŠ˜', 'ì™€', 'ì™œ', 'ìš°ì™€', 'ìœ ë‹›', 'ìŒ', 'ì‘', 'ì´ê±´', 'ì´ëŸ°', 'ì´ë ‡ê²Œ', 'ì´ëª¨í‹°ì½˜', 'ì´ì•¼', 'ì´ì˜€ì–´ìš”', 'ì´ì œ', 'ìˆë„¤ìš”', 'ìˆëŠ”ë°', 'ìˆë‹¤', 'ìˆìŠµë‹ˆë‹¤', 'ìˆì–´ìš”', 'ìˆìŒ', 'ì¡ë±', 'ì €ê±°', 'ì €ê±´', 'ì €ê¸°', 'ì €ëŠ”', 'ì €ëŸ°', 'ì €ë ‡ê²Œ', 'ì •ë§', 'ì •ì„ë±', 'ì¡°ê¸ˆ', 'ì¢€', 'ì¤‘ì—', 'ì¤‘ì—ì„œ', 'ì§„ì§œ', 'ì§„í™”', 'ì±”í”¼ì–¸', 'ì¹´ë“œ', 'í´ë˜ì‹œ', 'í´ë˜ì‹œë¡œì–„', 'í´ë¡œ', 'íƒ€ê²ŸíŒ…', 'í”½ë¥ ', 'í•˜ê²Œ', 'í•˜ê¸°', 'í•˜ë‚˜ìš”', 'í•˜ëŠ”', 'í•˜ëŠ”ë°', 'í•˜ë‹¤', 'í•˜ë©°', 'í•œë‹¤', 'í• ê¹Œ', 'í•¨', 'í•©ë‹ˆë‹¤', 'í•´ë„', 'í•´ì„œ', 'í•´ìš”', 'í–ˆë„¤ìš”', 'í–ˆëŠ”ë°', 'í–ˆë‹¤', 'í–ˆë‹¤ê°€', 'í–ˆìŠµë‹ˆë‹¤', 'í–ˆì–´ìš”', 'í–ˆìŒ', 'í–ˆì§€ë§Œ', 'í—‰', 'í—', 'í˜¹ì‹œ', 'í˜¹ì€',
            
            // ê¸°ë³¸ ì¡°ì‚¬/ì–´ë¯¸
            'ì´', 'ê°€', 'ì„', 'ë¥¼', 'ì€', 'ëŠ”', 'ì—', 'ì—ì„œ', 'ë¡œ', 'ìœ¼ë¡œ', 'ì™€', 'ê³¼', 'ì˜', 'ë„', 'ë§Œ', 'ê¹Œì§€', 'ë¶€í„°', 'ë§ˆì €', 'ì¡°ì°¨', 'í•œí…Œ', 'ê»˜', 'ì—ê²Œ', 'ë¡œë¶€í„°', 'ìœ¼ë¡œë¶€í„°',
            'ë‹¤', 'ì•¼', 'ì´ë‹¤', 'ìˆë‹¤', 'ì—†ë‹¤', 'í•˜ë‹¤', 'ë˜ë‹¤', 'ì´ì•¼', 'ë„¤', 'ì§€', 'ìš”', 'ìŠµë‹ˆë‹¤', 'ì…ë‹ˆë‹¤', 'ì—ˆë‹¤', 'ì•˜ë‹¤', 'ê² ë‹¤', 'ì–´ìš”', 'ì•„ìš”', 'í•´ìš”', 'í•´', 'í•œë‹¤', 'í•œë‹¤ê³ ',
            'ì¢‹ì•„ìš”', 'ìˆì–´ìš”', 'ê·¸ë˜ë„', 'í•´ë„', 'ëœë‹¤', 'ì•ˆë¼', 'ëë‹¤', 'ëœë‹µë‹ˆë‹¤', 'í–ˆì–´ìš”', 'í• ê²Œìš”', 'í• ê¹Œìš”', 'í•´ì¤˜ìš”', 'í•´ì£¼ì„¸ìš”',
            
            // ëŒ€ëª…ì‚¬ + ì¡°ì‚¬ ì¡°í•© (ëŒ€í­ í™•ì¥)
            'ë‚˜', 'ë„ˆ', 'ìš°ë¦¬', 'ì €', 'ì œ', 'ì œê°€', 'ë‹¹ì‹ ', 'ê·¸', 'ì´', 'ì €', 'ê·¸ê²ƒ', 'ì´ê²ƒ', 'ì €ê²ƒ', 'ì´ê±°', 'ê·¸ê±°', 'ì €ê±°', 'ìš”ê±°', 'ì—¬ê¸°', 'ê±°ê¸°', 'ì €ê¸°', 'ì–´ë””', 'ëˆ„êµ¬', 'ë­', 'ë¬´ì—‡', 'ëª‡',
            'ë‚˜ë„', 'ë„ˆë„', 'ìš°ë¦¬ë„', 'ì œë„', 'ì €ë„', 'ê·¸ë„', 'ì´ê²ƒë„', 'ê·¸ê²ƒë„', 'ì €ê²ƒë„',
            'ë‚˜ëŠ”', 'ë„ˆëŠ”', 'ìš°ë¦¬ëŠ”', 'ì œëŠ”', 'ì €ëŠ”', 'ê·¸ëŠ”', 'ì´ê±´', 'ê·¸ê±´', 'ì €ê±´',
            'ë‚˜ë¥¼', 'ë„ˆë¥¼', 'ìš°ë¦¬ë¥¼', 'ì €ë¥¼', 'ê·¸ë¥¼', 'ì´ê±¸', 'ê·¸ê±¸', 'ì €ê±¸',
            'ë‚˜í•œí…Œ', 'ë„ˆí•œí…Œ', 'ì €í•œí…Œ', 'ìš°ë¦¬í•œí…Œ', 'ê·¸í•œí…Œ',
            'ì—¬ê¸°ì„œ', 'ê±°ê¸°ì„œ', 'ì €ê¸°ì„œ', 'ì–´ë””ì„œ', 'ì–¸ì œì„œ', 'ë­ì—ì„œ',
            'ì´ëŸ°', 'ê·¸ëŸ°', 'ì €ëŸ°', 'ìš”ëŸ°', 'ì–´ë–¤', 'ë¬´ìŠ¨', 'ì–´ëŠ',
            'ì´ë ‡ê²Œ', 'ê·¸ë ‡ê²Œ', 'ì €ë ‡ê²Œ', 'ìš”ë ‡ê²Œ', 'ì–´ë–»ê²Œ',
            'ì´ë•Œ', 'ê·¸ë•Œ', 'ì €ë•Œ', 'ì–¸ì œ', 'ì–´ëŠë•Œ',
            'ìê¸°', 'ìì‹ ', 'ìš°ë¦¬ë“¤', 'ë„ˆí¬', 'ê·¸ë“¤', 'íƒ€ì¸', 'ê²ƒ', 'ê²ƒë“¤', 'ë¶„', 'ëª…', 'ê°œ', 'ë²ˆ',
            
            // ì‹œê°„/ìƒí™© ë¶€ì‚¬ (ëŒ€í­ í™•ì¥)
            'ìš”ì¦˜', 'ì´ì œ', 'ì§€ê¸ˆ', 'ì˜¤ëŠ˜', 'ì–´ì œ', 'ë‚´ì¼', 'ëª¨ë ˆ', 'ê¸€í”¼', 'ê·¸ì œ', 'ì—Šê·¸ì œ',
            'ì•„ê¹Œ', 'ë°©ê¸ˆ', 'ë‚˜ì¤‘ì—', 'ì´ë”°', 'ì´ë”°ê°€', 'ì ê¹', 'ì ì‹œ', 'ìˆœê°„', 'ë•Œë•Œë¡œ',
            'ë²Œì¨', 'ì•„ì§', 'ì—¬ì „íˆ', 'ê³„ì†', 'ë‹¤ì‹œ', 'ë˜', 'ë˜ë‹¤ì‹œ', 'ë‹¤ìŒì—', 'ì´ë²ˆì—', 'ì €ë²ˆì—',
            'ì²˜ìŒ', 'ë§ˆì§€ë§‰', 'í•­ìƒ', 'ëŠ˜', 'ì–¸ì œë‚˜', 'ê°€ë”', 'ì¢…ì¢…', 'ìì£¼', 'ë•Œë¡ ', 'ë•Œë•Œë¡œ',
            'ì¼ë‹¨', 'ìš°ì„ ', 'ë¨¼ì €', 'ë‚˜ì¤‘', 'ê²°êµ­', 'ë§ˆì¹¨ë‚´', 'ë“œë””ì–´',
            
            // ì¶”ì¸¡/ê°€ì •/í™•ì¸ í‘œí˜„ (ëŒ€í­ í™•ì¥)
            'í˜¹ì‹œ', 'ê·¸ëŸ¼', 'ë§Œì•½', 'ì•„ë§ˆ', 'í˜¹ì€', 'ì•„ë‹ˆë©´', 'ê·¸ëŸ¬ë©´', 'ê·¸ë ‡ë‹¤ë©´', 'ë§Œì¼',
            'ì•„ë¬´ë˜ë„', 'ì–´ì©ì§€', 'ì™ ì§€', 'ê·¸ëƒ¥', 'ì—­ì‹œ', 'ì—­ì‹œë‚˜', 'ë‹¹ì—°íˆ', 'ë¬¼ë¡ ', 'í™•ì‹¤íˆ',
            'ì§„ì§œ', 'ì •ë§', 'ë§ì•„', 'ê·¸ë˜', 'ì‘', 'ë„¤', 'ë§ë„¤', 'ê·¸ì¹˜', 'ë§ì§€', 'ê·¸ëŸ¬ê²Œ',
            'ì„¤ë§ˆ', 'ê³¼ì—°', 'ì •ë§ë¡œ', 'ì§„ì§œë¡œ', 'ì‹¤ì œë¡œ', 'ì‚¬ì‹¤', 'ì‹¤ì€', 'ì†”ì§íˆ', 'ì›ë˜', 'ìˆë‚˜ìš”', 'ì‚­ì œëœ', 'ë©”ì‹œì§€ì…ë‹ˆë‹¤'
            
            // í˜¸ì¹­/ì§€ì¹­ (ëŒ€í­ í™•ì¥)
            'ë‹˜ë“¤', 'í˜•ë“¤', 'ì–¸ë‹ˆë“¤', 'ëˆ„ë‚˜ë“¤', 'ë™ìƒë“¤', 'ì¹œêµ¬ë“¤', 'ì‚¬ëŒë“¤',
            'ì—¬ëŸ¬ë¶„', 'ëª¨ë‘ë“¤', 'ë‹¤ë“¤', 'ëª¨ë‘', 'ì „ë¶€', 'ëª¨ë“ ', 'ê°ì',
            'í˜•', 'ëˆ„ë‚˜', 'ì–¸ë‹ˆ', 'ë™ìƒ', 'ì¹œêµ¬', 'ì„ ë°°', 'í›„ë°°', 'ë™ë£Œ',
            'ì–´ë¥¸', 'ì•„ì´', 'ì• ë“¤', 'ê¼¬ë§ˆ', 'ì•„ê°€', 'ì•„ê¸°',
            
            // ê°ì •/ë°˜ì‘ í‘œí˜„ (ëŒ€í­ í™•ì¥)
            'ì–´ë¨¸', 'ì–´ë¨¸ë‚˜', 'ì„¸ìƒì—', 'ì´ëŸ°', 'ì €ëŸ°', 'ê·¸ëŸ°', 'ë†€ëë‹¤', 'ì‹ ê¸°í•˜ë‹¤', 'ì¬ë°Œë‹¤', 'ì›ƒê¸°ë‹¤', 'ê·€ì—½ë‹¤',
            'ì•„ì‹¸', 'ì•¼í˜¸', 'ì™€ìš°', 'ì§±', 'ì©”ì–´', 'ëŒ€ë°•', 'ë¯¸ì³¤ë‹¤', 'ëë‚´ì¤€ë‹¤', 'ìµœê³ ',
            'ì–´ì´êµ¬', 'ì—êµ¬', 'ì•„ì´ê³ ', 'ì•„ì´êµ¬', 'ì•„ì´ì¿ ', 'ì–´íœ´', 'í—‰', 'ì–´ë¼', 'ì–´', 'ìŒ',
            
            // ì¸ì‚¬ë§/ì•ˆë¶€ (í™•ì¥)
            'ì•ˆë…•', 'ì•ˆë…•í•˜ì„¸ìš”', 'ì•ˆë…•íˆ', 'ë°˜ê°‘ë‹¤', 'ë°˜ê°€ì›Œ', 'ë°˜ê°‘ìŠµë‹ˆë‹¤', 'ê³ ë§ˆì›Œ', 'ê³ ë§™ë‹¤', 'ê³ ë§™ìŠµë‹ˆë‹¤', 'ê°ì‚¬', 'ê°ì‚¬í•´', 'ê°ì‚¬í•©ë‹ˆë‹¤', 'ì£„ì†¡', 'ì£„ì†¡í•´', 'ì£„ì†¡í•©ë‹ˆë‹¤', 'ë¯¸ì•ˆ', 'ë¯¸ì•ˆí•´', 'ë¯¸ì•ˆí•©ë‹ˆë‹¤',
            'ìˆ˜ê³ ', 'ìˆ˜ê³ í•´', 'ìˆ˜ê³ í•˜ì„¸ìš”', 'ì˜ì', 'ì˜ììš”', 'ì•ˆë…•íˆì£¼ë¬´ì„¸ìš”', 'ì¢‹ì€ê¿ˆ', 'êµ¿ë‚˜ì‡', 'í•˜ì´', 'ë°”ì´', 'ì•ˆë…•íˆê°€ì„¸ìš”', 'ì•ˆë…•íˆê³„ì„¸ìš”',
            'ì–´ì„œì™€', 'ì–´ì„œì˜¤ì„¸ìš”', 'í™˜ì˜', 'í™˜ì˜í•´', 'í™˜ì˜í•©ë‹ˆë‹¤',
            
            // ê°íƒ„ì‚¬/ì¶”ì„ìƒˆ (í™•ì¥)
            'ì•„', 'ì–´', 'ì˜¤', 'ìš°', 'ìŒ', 'ì‘', 'ë„¤', 'ì˜ˆ', 'ì•„ë‹ˆ', 'ë§ì•„', 'ê·¸ë˜', 'ì–´ì©Œì§€', 'ì–´ë–»ê²Œ', 'ì™œ', 'ì–¸ì œ', 'ì–´ë””ì„œ', 'í—‰', 'ì™€', 'ìš°ì™€', 'ì˜¤í˜¸', 'ì•„í•˜', 'ê·¸ë ‡êµ¬ë‚˜',
            'ì–´ë¨¸', 'ì–´ë¨¸ë‚˜', 'ì„¸ìƒì—', 'ì´ëŸ°', 'ì €ëŸ°', 'ê·¸ëŸ°', 'ì–´ì´', 'ì–´ì´êµ¬', 'ì•„ì´ê³ ', 'ì•„ì´êµ¬', 'ì•„ì´ì¿ ',
            
            // ì¤„ì„ë§/ì¸í„°ë„· ìš©ì–´ (í™•ì¥)
            'ã…‹', 'ã…‹ã…‹', 'ã…‹ã…‹ã…‹', 'ã…', 'ã…ã…', 'ã… ', 'ã… ã… ', 'ã…œ', 'ã…œã…œ', 'ã…¡', 'ã…¡ã…¡', 'ã„¹ã…‡', 'ã„·ã„·', 'ã…‡ã…‡', 'ã„±ã……', 'ã„´ã„´', 'ã…ã„´', 'ã…‚ã…‚',
            'í—¤', 'í•˜', 'í˜¸', 'íˆ', 'í ', 'ìŒ', 'ì— ', 'ì¼', 'ë„˜', 'ê²', 'ë§‰', 'ë”±', 'ì™„', 'ì«Œ', 'ì¡´', 'ì¡¸', 'ë ˆì•Œ', 'ì§„ì§œ', 'ì •ë§', 'ì™„ì „', 'ì—„ì²­', 'ê°œ', 'ê²ë‚˜', 'ë¬´ë¦',
            'ëŒ€ë°•', 'ì©ë‹¤', 'ì©”ì–´', 'ë¯¸ì³¤', 'ìµœê³ ', 'ì§±', 'í‚¹', 'ê°“', 'ë ˆì „ë“œ', 'ì—­ì‹œ', 'ë‹¹ì—°', 'ë¬¼ë¡ ', 'ë§ë‹¤', 'í‹€ë ¸', 'ë§ë„¤', 'ê·¸ì¹˜',
            'ã„±ã„±', 'ã„±ã…‡', 'ã…‡ã„±', 'ã…Šã…Š', 'ã…‚ã…‡', 'ã…‡ã…‚', 'ã…ã…‡', 'ã…‡ã…',
            
            // ë¬¸ì¥ ì—°ê²°ì–´/ì ‘ì†ì‚¬ (ëŒ€í­ í™•ì¥)
            'ê·¸ë¦¬ê³ ', 'ê·¸ëŸ°ë°', 'ê·¼ë°', 'í•˜ì§€ë§Œ', 'ê·¸ëŸ¬ë‚˜', 'ë˜', 'ë˜í•œ', 'ì—­ì‹œ', 'ë¬¼ë¡ ', 'ê·¸ëƒ¥', 'ì¢€', 'ë§ì´', 'ì¡°ê¸ˆ', 'ì•½ê°„', 'ì•„ì£¼', 'ë§¤ìš°', 'ë„ˆë¬´', 'ê½¤', 'ìƒë‹¹íˆ', 'ë³„ë¡œ', 'ê·¸ë‹¤ì§€',
            'ê·¸ë˜ì„œ', 'ê·¸ëŸ¬ë‹ˆê¹Œ', 'ê·¸ëŸ¬ë‹ˆ', 'ê·¸ëŸ¬ë¯€ë¡œ', 'ë”°ë¼ì„œ', 'ê·¸ëŸ¬ë©´', 'ê·¸ëŸ¼',
            'ì•„ë¬´íŠ¼', 'ì–´ì¨Œë“ ', 'í•˜ì—¬íŠ¼', 'ë­”ê°€', 'ë­”ì§€', 'ë­”ë°', 'ì™œëƒí•˜ë©´', 'ì™œëƒë©´',
            'í•˜ê¸´', 'ê·¸ë˜ë„', 'ê·¸ëŸ°ë°ë„', 'ê·¸ëŸ¼ì—ë„', 'ê·¸ë ‡ì§€ë§Œ', 'ê·¸ë ‡ë‹¤ê³ ',
            
            // ê¸°ë³¸ ë™ì‚¬/í˜•ìš©ì‚¬ (í™•ì¥)
            'ê±°ë‚˜', 'ê±°ë“ ', 'ë‹ˆê¹Œ', 'ê¹Œì§€', 'ë¶€í„°', 'ê°™ì´', 'í•¨ê»˜', 'í˜¼ì', 'ê³„ì†', 'ë‹¤ì‹œ', 'ë˜ë‹¤ì‹œ', 'ë³´ë‚´', 'ë°›ì•„', 'í™•ì¸', 'ì•Œê² ', 'ì•Œì•˜', 'ëª¨ë¥´', 'ëª°ë¼',
            'ìƒê°', 'ë§ˆìŒ', 'ê¸°ë¶„', 'ëŠë‚Œ', 'ì •ë„', 'ì´ìƒ', 'ì´í•˜', 'ì •ë§ë¡œ', 'ì§„ì§œë¡œ', 'ì‚¬ì‹¤', 'ì‹¤ì œë¡œ', 'ì˜', 'ëª»', 'ì•ˆ',
            'ë˜ë„¤', 'ë˜ë‹¤', 'ëœë‹¤', 'ë˜ë‹ˆ', 'ë˜ë‚˜', 'ë˜ëƒ', 'ë˜ì§€', 'ë˜ëŠ”êµ¬ë‚˜',
            'ì¢‹ë‹¤', 'ì¢‹ë„¤', 'ì¢‹ì€', 'ë‚˜ì˜ë‹¤', 'ë‚˜ì˜ë„¤', 'ì•ˆì¢‹ë‹¤',
            
            // ì¹´ì¹´ì˜¤í†¡ ê´€ë ¨ ë‹¨ì–´ë“¤ (í™•ì¥)
            'ì´ëª¨í‹°ì½˜', 'ì‚¬ì§„', 'ë™ì˜ìƒ', 'íŒŒì¼', 'ë§í¬', 'ì „í™”', 'í†µí™”', 'ë©”ì‹œì§€', 'í†¡', 'ì¹´í†¡', 'ë‹¨í†¡', 'ì˜¤í”ˆì±„íŒ…', 'ìˆ˜ë‹¤ë°©', 'ì •ë³´', 'ê³µì§€', 'ì•Œë¦¼',
            'ì…ì¥', 'í‡´ì¥', 'ì´ˆëŒ€', 'ë‚˜ê°”ìŠµë‹ˆë‹¤', 'ë“¤ì–´ì™”ìŠµë‹ˆë‹¤', 'ë‹˜ì´', 'ì°¸ì—¬', 'ë– ë‚¨', 'ë“¤ì–´ì˜´', 'ë‚˜ê°',
            'ì½ìŒ', 'ì•ˆì½ìŒ', 'í™•ì¸', 'ë¯¸í™•ì¸', 'ë‹µì¥', 'ë‹µë³€', 'ëŒ€ë‹µ',
            
            // ê¸°íƒ€ ë¶ˆí•„ìš”í•œ í‘œí˜„ë“¤ (í™•ì¥)
            ';;', '...', '..', '!', '?', '!!', '??', '???', '!!!', 'ë„¤ë„¤', 'ì‘ì‘', 'ì—¥', 'ì–´ì–´', 'ìš°ìš°', 'ì•„ì•„', 'ì—ì—', 'íí', 'íˆíˆ', 'í˜¸í˜¸', 'í›„í›„',
            
            // URL/ê¸°ìˆ  ê´€ë ¨ (í™•ì¥)
            'http', 'https', 'www', 'com', 'co', 'kr', 'net', 'org', 'html', 'php', 'asp', 'jpg', 'png', 'gif', 'mp4', 'avi',
            'link', 'url', 'site', 'web', 'page',
            
            // ê¸°íƒ€ ì±„íŒ… íŠ¹í™” ë‹¨ì–´ë“¤ (í™•ì¥)
            'í•˜ì´', 'ë°”ì´', 'êµ¿', 'ì˜¤ì¼€ì´', 'ì˜¤í‚¤', 'ok', 'OK', 'okay', 'ì‘ë‹¹', 'ë‹¹ì¥', 'ë°”ë¡œ', 'ê³§', 'ì¦‰ì‹œ', 'ì ê¹', 'ì ì‹œ',
            'ì–´ë–»ê²Œë“ ', 'ì•„ë¬´íŠ¼', 'ì–´ì°Œëë“ ', 'ì–´ì¨Œë“ ', 'í•˜ì—¬íŠ¼', 'ì•„ë¬´ë˜ë„',
            
            // ì˜ë¬¸ì‚¬/ì§ˆë¬¸ í‘œí˜„ (í™•ì¥)
            'ë­', 'ë­”ê°€', 'ë­”ë°', 'ë­”ì§€', 'ë¬´ì—‡', 'ë¬´ìŠ¨', 'ì–´ë–¤', 'ì–´ëŠ', 'ëª‡', 'ì–¼ë§ˆ',
            'ì–´ë””', 'ì–¸ì œ', 'ëˆ„êµ¬', 'ì™œ', 'ì–´ë–»ê²Œ', 'ì–´ì°Œ', 'ì–´ì§¸ì„œ',
            'ê·¸ê²Œë­', 'ë­”ì†Œë¦¬', 'ë¬´ìŠ¨ë§', 'ì–´ë–¤ë§', 'ë¬´ìŠ¨ëœ»'
        ]);

        // ê°ì • ë¶„ì„ìš© ë‹¨ì–´ ì‚¬ì „
        const emotionWords = {
            positive: new Set([
                'ì¢‹ë‹¤', 'ì¢‹ì•„', 'ì¢‹ë„¤', 'ì¢‹ì€', 'ì¢‹ê² ë‹¤', 'ê¸°ì˜ë‹¤', 'ê¸°ë»', 'í–‰ë³µ', 'í–‰ë³µí•´', 'ì¦ê²ë‹¤', 'ì¦ê±°ì›Œ', 'ì‹ ë‚˜ë‹¤', 'ì‹ ë‚˜', 'ì¬ë°Œë‹¤', 'ì¬ë¯¸ìˆë‹¤', 'ì›ƒê¸°ë‹¤', 'ì›ƒê²¨',
                'ì‚¬ë‘', 'ì‚¬ë‘í•´', 'ê³ ë§ˆì›Œ', 'ê³ ë§™ë‹¤', 'ê°ì‚¬', 'ìµœê³ ', 'ì™„ë²½', 'í›Œë¥­', 'ë©‹ì§€ë‹¤', 'ë©‹ì ¸', 'ì˜ˆì˜ë‹¤', 'ì˜ˆë»', 'ê·€ì—½ë‹¤', 'ê·€ì—¬ì›Œ', 'ì•„ë¦„ë‹µë‹¤', 'ì•„ë¦„ë‹¤ì›Œ',
                'ì„±ê³µ', 'ìŠ¹ë¦¬', 'ëŒ€ë°•', 'ì§±', 'êµ¿', 'ì˜¤ì¼€ì´', 'ì¢‹ì•˜ì–´', 'ì™„ì „', 'ì§„ì§œì¢‹ë‹¤', 'ë§ˆìŒì—ë“ ë‹¤', 'ë§Œì¡±', 'í¥ë¯¸', 'ê´€ì‹¬', 'ê¸°ëŒ€', 'í¬ë§', 'ê¿ˆ', 'ëª©í‘œ',
                'í™”ì´íŒ…', 'í˜ë‚´', 'ì˜í–ˆì–´', 'ìˆ˜ê³ í–ˆì–´', 'ëŒ€ë‹¨í•´', 'ë†€ë¼ì›Œ', 'ì‹ ê¸°í•´', 'ì™€ìš°', 'ìš°ì™€', 'í—‰ì¢‹ë„¤', 'ê°œì¢‹ì•„', 'ì¡´ì¢‹', 'ë ˆì „ë“œ', 'ê°“', 'í‚¹ì™•ì§±'
            ]),
            negative: new Set([
                'ì‹«ë‹¤', 'ì‹«ì–´', 'ë‚˜ì˜ë‹¤', 'ë‚˜ë¹ ', 'ëª»í•˜ë‹¤', 'ëª»í•´', 'ì•ˆì¢‹ë‹¤', 'ì•ˆì¢‹ì•„', 'í™”ë‚˜ë‹¤', 'í™”ë‚˜', 'ì§œì¦', 'ì§œì¦ë‚˜', 'ìŠ¤íŠ¸ë ˆìŠ¤', 'í”¼ê³¤', 'í”¼ê³¤í•´',
                'ìŠ¬í”„ë‹¤', 'ìŠ¬í¼', 'ìš°ìš¸', 'ìš°ìš¸í•´', 'í˜ë“¤ë‹¤', 'í˜ë“¤ì–´', 'ì–´ë µë‹¤', 'ì–´ë ¤ì›Œ', 'ì•„í”„ë‹¤', 'ì•„íŒŒ', 'ì£½ê² ë‹¤', 'ë¯¸ì¹˜ê² ë‹¤', 'ë‹µë‹µ', 'ë‹µë‹µí•´',
                'ì‹¤ë§', 'ì‹¤ë§ì´ì•¼', 'í›„íšŒ', 'ê±±ì •', 'ë¶ˆì•ˆ', 'ë¬´ì„œì›Œ', 'ë‘ë µë‹¤', 'ë‹¹í™©', 'ë†€ëë‹¤', 'ë†€ë¼', 'ì¶©ê²©', 'ë©˜ë¶•', 'ë§í–ˆë‹¤', 'ì‹¤íŒ¨', 'í¬ê¸°',
                'ë³„ë¡œ', 'ìµœì•…', 'ë”ì°', 'ì§€ê²¹ë‹¤', 'ì§€ê²¨ì›Œ', 'ì¬ë¯¸ì—†ë‹¤', 'ì¬ë¯¸ì—†ì–´', 'ë¹¡ì³', 'ì—´ë°›ì•„', 'ëª¨ë¥´ê² ë‹¤', 'ëª°ë¼', 'ë§‰ë§‰', 'ë§‰ë§‰í•´'
            ])
        };

        // íŒŒì¼ ì—…ë¡œë“œ ì´ë²¤íŠ¸
        document.getElementById('fileInput').addEventListener('change', handleFile);

        // í‚¤ì›Œë“œ ê²€ìƒ‰ Enter í‚¤ ì§€ì›
        document.getElementById('keywordSearchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchKeyword();
            }
        });

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ë²¤íŠ¸
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                processFile(files[0]);
            }
        });

        function handleFile(e) {
            const file = e.target.files[0];
            if (file) {
                processFile(file);
            }
        }

        async function processFile(file) {
            if (!file.name.endsWith('.txt')) {
                showError('txt íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }

            showLoading();
            hideError();

            try {
                const text = await file.text();
                const data = parseKakaoChat(text);
                
                if (data.length === 0) {
                    throw new Error('ìœ íš¨í•œ ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }

                analysisData = data;
                displayResults(data);
                hideLoading();
                
            } catch (error) {
                hideLoading();
                showError('íŒŒì¼ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        function parseKakaoChat(text) {
            const lines = text.split('\n');
            const messageCounts = {};
            const messageTexts = [];
            let currentDate = null;
            let totalLinesProcessed = 0;
            let recognizedMessages = 0;
            let debugInfo = [];
            
            debugInfo.push(`ì´ ë¼ì¸ ìˆ˜: ${lines.length}`);
            debugInfo.push(`íŒŒì¼ í¬ê¸°: ${text.length} ë¬¸ì`);
            debugInfo.push(`\nì²˜ìŒ 10ì¤„ ìƒ˜í”Œ:`);
            lines.slice(0, 10).forEach((line, i) => {
                debugInfo.push(`${i+1}: ${line}`);
            });
            debugInfo.push(`\níŒŒì‹± ê³¼ì •:`);

            lines.forEach((line, index) => {
                totalLinesProcessed++;
                const trimmedLine = line.trim();
                
                if (!trimmedLine) return;

                // ë‚ ì§œ êµ¬ë¶„ì„  ì°¾ê¸°
                const dateSeparatorPatterns = [
                    /(\d{4})ë…„\s*(\d{1,2})ì›”\s*(\d{1,2})ì¼\s*[ì›”í™”ìˆ˜ëª©ê¸ˆí† ì¼]ìš”ì¼/,
                    /-+\s*(\d{4})ë…„\s*(\d{1,2})ì›”\s*(\d{1,2})ì¼.*?-+/,
                    /(\d{4})\.\s*(\d{1,2})\.\s*(\d{1,2})\.\s*[ì›”í™”ìˆ˜ëª©ê¸ˆí† ì¼]ìš”ì¼/,
                    /(\d{4})-(\d{2})-(\d{2})/
                ];

                for (const pattern of dateSeparatorPatterns) {
                    const match = trimmedLine.match(pattern);
                    if (match) {
                        const year = match[1];
                        const month = match[2].padStart(2, '0');
                        const day = match[3].padStart(2, '0');
                        currentDate = `${year}-${month}-${day}`;
                        debugInfo.push(`ë‚ ì§œ êµ¬ë¶„ì„  ë°œê²¬: ${currentDate} (ë¼ì¸ ${index + 1})`);
                        return;
                    }
                }

                // ë©”ì‹œì§€ ë¼ì¸ ì°¾ê¸°
                const messagePatterns = [
                    {pattern: /[ì˜¤ì „í›„]\s*(\d{1,2}):(\d{2}),\s*([^:]+)\s*:\s*(.+)/, messageIndex: 4},
                    {pattern: /(.+?)\s+[ì˜¤ì „í›„]\s*(\d{1,2}):(\d{2})\s*:\s*(.+)/, messageIndex: 4},
                    {pattern: /\[([^\]]+)\]\s*\[[ì˜¤ì „í›„]\s*(\d{1,2}):(\d{2})\]\s*(.+)/, messageIndex: 4},
                    {pattern: /([^:]+)\s*:\s*(.+)/, messageIndex: 2}
                ];

                let messageFound = false;
                for (const {pattern, messageIndex} of messagePatterns) {
                    const match = trimmedLine.match(pattern);
                    if (match && match[0].length > 10) {
                        messageFound = true;
                        recognizedMessages++;
                        
                        const messageText = match[messageIndex];
                        if (messageText && messageText.trim().length > 0) {
                            messageTexts.push(messageText.trim());
                        }
                        
                        let messageDate = currentDate;
                        
                        if (!messageDate) {
                            const lineWithDate = /(\d{4})[\.\-ë…„\s]*(\d{1,2})[\.\-ì›”\s]*(\d{1,2})/;
                            const dateMatch = trimmedLine.match(lineWithDate);
                            if (dateMatch) {
                                const year = dateMatch[1];
                                const month = dateMatch[2].padStart(2, '0');
                                const day = dateMatch[3].padStart(2, '0');
                                messageDate = `${year}-${month}-${day}`;
                            }
                        }
                        
                        if (messageDate) {
                            messageCounts[messageDate] = (messageCounts[messageDate] || 0) + 1;
                            if (index < 20) {
                                debugInfo.push(`ë©”ì‹œì§€ ë°œê²¬: ${messageDate} (ë¼ì¸ ${index + 1})`);
                            }
                        }
                        break;
                    }
                }

                if (!messageFound && trimmedLine.includes(':') && trimmedLine.length > 5) {
                    const simpleParts = trimmedLine.split(':');
                    if (simpleParts.length >= 2 && simpleParts[0].length < 30 && simpleParts[1].trim().length > 0) {
                        recognizedMessages++;
                        messageTexts.push(simpleParts.slice(1).join(':').trim());
                        
                        if (currentDate) {
                            messageCounts[currentDate] = (messageCounts[currentDate] || 0) + 1;
                            if (index < 20) {
                                debugInfo.push(`ê°„ë‹¨ ë©”ì‹œì§€: ${currentDate} (ë¼ì¸ ${index + 1})`);
                            }
                        }
                    }
                }
            });

            debugInfo.push(`\në¶„ì„ ê²°ê³¼:`);
            debugInfo.push(`ì²˜ë¦¬ëœ ë¼ì¸: ${totalLinesProcessed}`);
            debugInfo.push(`ì¸ì‹ëœ ë©”ì‹œì§€: ${recognizedMessages}`);
            debugInfo.push(`ìˆ˜ì§‘ëœ í…ìŠ¤íŠ¸: ${messageTexts.length}ê°œ`);
            debugInfo.push(`ë°œê²¬ëœ ë‚ ì§œ ìˆ˜: ${Object.keys(messageCounts).length}`);

            // í‚¤ì›Œë“œ ë¶„ì„ ìˆ˜í–‰
            keywordData = analyzeKeywords(messageTexts);
            
            // ê°ì • ë¶„ì„ ìˆ˜í–‰
            emotionData = analyzeEmotions(messageTexts);
            
            // ì „ì²´ ë©”ì‹œì§€ í…ìŠ¤íŠ¸ ì €ì¥ (í‚¤ì›Œë“œ ê²€ìƒ‰ìš©)
            allMessageTexts = messageTexts;
            
            debugInfo.push(`\ní‚¤ì›Œë“œ ë¶„ì„:`);
            debugInfo.push(`ì´ ë‹¨ì–´ ìˆ˜: ${keywordData.totalWords}`);
            debugInfo.push(`ê³ ìœ  ë‹¨ì–´ ìˆ˜: ${keywordData.uniqueWords}`);
            debugInfo.push(`\nê°ì • ë¶„ì„:`);
            debugInfo.push(`ê¸ì •: ${emotionData.positive}ê°œ, ë¶€ì •: ${emotionData.negative}ê°œ, ì¤‘ë¦½: ${emotionData.neutral}ê°œ`);

            window.lastDebugInfo = debugInfo;

            if (recognizedMessages < totalLinesProcessed * 0.05) {
                debugInfo.push(`\nâš ï¸ ê²½ê³ : ë©”ì‹œì§€ ì¸ì‹ë¥ ì´ ë‚®ìŠµë‹ˆë‹¤ (${((recognizedMessages/totalLinesProcessed)*100).toFixed(1)}%)`);
            }

            return Object.entries(messageCounts)
                .sort(([a], [b]) => a.localeCompare(b))
                .map(([date, count]) => ({ date, count }));
        }

        function analyzeKeywords(messageTexts) {
            if (!messageTexts || messageTexts.length === 0) {
                return {
                    totalWords: 0,
                    uniqueWords: 0,
                    avgWordsPerMessage: 0,
                    keywords: []
                };
            }

            const wordCounts = {};
            let totalWords = 0;

            messageTexts.forEach(text => {
                const cleanText = text
                    .replace(/[^\w\sã„±-ã…ã…-ã…£ê°€-í£]/g, ' ')
                    .replace(/\s+/g, ' ')
                    .trim()
                    .toLowerCase();

                if (cleanText.length === 0) return;

                const words = cleanText.split(' ');
                
                words.forEach(word => {
                    const trimmedWord = word.trim();
                    
                    if (trimmedWord.length < 2) return;
                    if (trimmedWord.length > 15) return;
                    if (stopWords.has(trimmedWord)) return;
                    if (/^\d+$/.test(trimmedWord)) return;
                    if (/^[ã…‹ã…ã… ã…œã…¡ã…‡ã„±ã„´ã„·ã„¹ã…ã…‚ã……ã…ˆã…Šã…Œã…ã…]+$/.test(trimmedWord)) return;
                    if (/^[a-zA-Z]+$/.test(trimmedWord) && trimmedWord.length < 3) return;
                    if (trimmedWord.includes('http')) return;
                    if (trimmedWord.includes('www')) return;
                    
                    if (/(.)\1{2,}/.test(trimmedWord)) return;
                    
                    if (trimmedWord.includes('ì…ì¥') || trimmedWord.includes('í‡´ì¥') || 
                        trimmedWord.includes('ì´ˆëŒ€') || trimmedWord.includes('ë‚˜ê°”ìŠµë‹ˆë‹¤') ||
                        trimmedWord.includes('ë“¤ì–´ì™”ìŠµë‹ˆë‹¤')) return;

                    totalWords++;
                    wordCounts[trimmedWord] = (wordCounts[trimmedWord] || 0) + 1;
                });
            });

            const filteredWordCounts = {};
            Object.entries(wordCounts).forEach(([word, count]) => {
                if (count >= 2) {
                    filteredWordCounts[word] = count;
                }
            });

            const sortedKeywords = Object.entries(filteredWordCounts)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 30)
                .map(([word, count]) => ({
                    word,
                    count,
                    percentage: ((count / totalWords) * 100).toFixed(1)
                }));

            return {
                totalWords,
                uniqueWords: Object.keys(filteredWordCounts).length,
                avgWordsPerMessage: messageTexts.length > 0 ? Math.round(totalWords / messageTexts.length) : 0,
                keywords: sortedKeywords
            };
        }

        function analyzeEmotions(messageTexts) {
            if (!messageTexts || messageTexts.length === 0) {
                return { positive: 0, negative: 0, neutral: 0 };
            }

            let positiveCount = 0;
            let negativeCount = 0;
            let neutralCount = 0;

            messageTexts.forEach(text => {
                const cleanText = text.toLowerCase();
                let hasPositive = false;
                let hasNegative = false;

                for (const word of emotionWords.positive) {
                    if (cleanText.includes(word)) {
                        hasPositive = true;
                        break;
                    }
                }

                for (const word of emotionWords.negative) {
                    if (cleanText.includes(word)) {
                        hasNegative = true;
                        break;
                    }
                }

                if (hasPositive && !hasNegative) {
                    positiveCount++;
                } else if (hasNegative && !hasPositive) {
                    negativeCount++;
                } else {
                    neutralCount++;
                }
            });

            return {
                positive: positiveCount,
                negative: negativeCount,
                neutral: neutralCount,
                total: messageTexts.length
            };
        }

        function searchKeyword() {
            const searchTerm = document.getElementById('keywordSearchInput').value.trim().toLowerCase();
            const resultDiv = document.getElementById('searchResult');
            
            if (!searchTerm) {
                resultDiv.style.display = 'none';
                return;
            }

            if (!allMessageTexts || allMessageTexts.length === 0) {
                resultDiv.innerHTML = '<strong>âŒ ê²€ìƒ‰í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</strong> ë¨¼ì € íŒŒì¼ì„ ë¶„ì„í•´ì£¼ì„¸ìš”.';
                resultDiv.style.display = 'block';
                return;
            }

            let count = 0;
            let examples = [];

            allMessageTexts.forEach(text => {
                const lowerText = text.toLowerCase();
                if (lowerText.includes(searchTerm)) {
                    count++;
                    if (examples.length < 3) {
                        examples.push(text.length > 50 ? text.substring(0, 50) + '...' : text);
                    }
                }
            });

            if (count === 0) {
                resultDiv.innerHTML = `<strong>ğŸ” "${searchTerm}"</strong> í‚¤ì›Œë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`;
            } else {
                const percentage = ((count / allMessageTexts.length) * 100).toFixed(1);
                let resultHTML = `<strong>ğŸ¯ "${searchTerm}"</strong> í‚¤ì›Œë“œê°€ <strong>${count}ë²ˆ</strong> ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤ (ì „ì²´ ë©”ì‹œì§€ì˜ ${percentage}%)`;
                
                if (examples.length > 0) {
                    resultHTML += `<br><br><strong>ğŸ“ ì˜ˆì‹œ:</strong><br>`;
                    examples.forEach((example, index) => {
                        resultHTML += `${index + 1}. ${example}<br>`;
                    });
                }
                resultDiv.innerHTML = resultHTML;
            }
            
            resultDiv.style.display = 'block';
        }

        function displayKeywordAnalysis(keywordData) {
            if (!keywordData || keywordData.keywords.length === 0) {
                document.querySelector('.keyword-section').style.display = 'none';
                return;
            }

            document.getElementById('totalWords').textContent = keywordData.totalWords.toLocaleString();
            document.getElementById('uniqueWords').textContent = keywordData.uniqueWords.toLocaleString();
            document.getElementById('avgWordsPerMessage').textContent = keywordData.avgWordsPerMessage.toLocaleString();

            createKeywordCloud(keywordData.keywords);
            createKeywordTable(keywordData.keywords);
        }

        function displayEmotionAnalysis(emotionData) {
            if (!emotionData) return;

            document.getElementById('positiveCount').textContent = emotionData.positive.toLocaleString();
            document.getElementById('negativeCount').textContent = emotionData.negative.toLocaleString();
            document.getElementById('neutralCount').textContent = emotionData.neutral.toLocaleString();

            createEmotionChart(emotionData);
        }

        function createEmotionChart(emotionData) {
            if (typeof Chart === 'undefined') {
                console.warn('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê°ì • ì°¨íŠ¸ë¥¼ ìƒëµí•©ë‹ˆë‹¤.');
                return;
            }

            const ctx = document.getElementById('emotionChart').getContext('2d');
            
            if (emotionChart) {
                emotionChart.destroy();
            }

            const data = {
                labels: ['ğŸ˜Š ê¸ì •', 'ğŸ˜¢ ë¶€ì •', 'ğŸ˜ ì¤‘ë¦½'],
                datasets: [{
                    data: [emotionData.positive, emotionData.negative, emotionData.neutral],
                    backgroundColor: [
                        '#10b981',
                        '#ef4444',
                        '#6b7280'
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            };

            emotionChart = new Chart(ctx, {
                type: 'doughnut',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const percentage = ((context.parsed / emotionData.total) * 100).toFixed(1);
                                    return `${context.label}: ${context.parsed}ê°œ (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function createKeywordCloud(keywords) {
            const cloudContainer = document.getElementById('keywordCloud');
            cloudContainer.innerHTML = '';

            if (keywords.length === 0) {
                cloudContainer.innerHTML = '<p style="color: #666; text-align: center; width: 100%; padding: 40px;">ì˜ë¯¸ìˆëŠ” í‚¤ì›Œë“œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.<br><small>í•„í„°ë§ì´ ê°•í™”ë˜ì–´ ë” ì •í™•í•œ í‚¤ì›Œë“œë§Œ í‘œì‹œë©ë‹ˆë‹¤.</small></p>';
                return;
            }

            const topKeywords = keywords.slice(0, 15);
            const maxCount = topKeywords[0].count;

            topKeywords.forEach((keyword, index) => {
                const keywordElement = document.createElement('div');
                keywordElement.className = 'keyword-item';
                keywordElement.textContent = keyword.word;
                keywordElement.setAttribute('data-count', keyword.count);
                
                const sizeRatio = keyword.count / maxCount;
                const fontSize = 0.9 + (sizeRatio * 0.8);
                keywordElement.style.fontSize = `${fontSize}rem`;
                
                const hue = 220 + (index * 15);
                const saturation = 60 + (sizeRatio * 20);
                const lightness = 50 + (sizeRatio * 10);
                keywordElement.style.background = `linear-gradient(135deg, hsl(${hue}, ${saturation}%, ${lightness}%), hsl(${hue + 30}, ${saturation}%, ${lightness - 5}%))`;
                
                if (index < 3) {
                    keywordElement.style.fontWeight = 'bold';
                }
                
                cloudContainer.appendChild(keywordElement);
            });
        }

        function createKeywordTable(keywords) {
            const tableBody = document.getElementById('keywordTable');
            tableBody.innerHTML = '';

            keywords.forEach((keyword, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td><strong>${keyword.word}</strong></td>
                    <td>${keyword.count.toLocaleString()}íšŒ</td>
                    <td>${keyword.percentage}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function displayResults(data) {
            const totalMessages = data.reduce((sum, item) => sum + item.count, 0);
            const totalDays = data.length;
            const avgMessages = totalDays > 0 ? Math.round(totalMessages / totalDays) : 0;
            const maxMessages = data.length > 0 ? Math.max(...data.map(item => item.count)) : 0;

            document.getElementById('totalMessages').textContent = totalMessages.toLocaleString();
            document.getElementById('totalDays').textContent = totalDays.toLocaleString();
            document.getElementById('avgMessages').textContent = avgMessages.toLocaleString();
            document.getElementById('maxMessages').textContent = maxMessages.toLocaleString();

            if (totalMessages < 10) {
                const debugSection = document.getElementById('debugSection');
                debugSection.style.display = 'block';
                updateDebugInfo();
                
                const warningDiv = document.createElement('div');
                warningDiv.style.cssText = 'background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 15px; border-radius: 10px; margin-bottom: 20px;';
                warningDiv.innerHTML = `
                    <strong>âš ï¸ ë¶„ì„ ê²°ê³¼ê°€ ì˜ˆìƒë³´ë‹¤ ì ìŠµë‹ˆë‹¤!</strong><br>
                    â€¢ ì¸ì‹ëœ ë©”ì‹œì§€: ${totalMessages}ê°œ<br>
                    â€¢ ìœ„ì˜ ë””ë²„ê·¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ íŒŒì¼ í˜•ì‹ì„ ì ê²€í•´ì£¼ì„¸ìš”<br>
                    â€¢ ì¹´ì¹´ì˜¤í†¡ ì±„íŒ…ë°© â†’ ì„¤ì • â†’ ëŒ€í™” ë‚´ìš© ë‚´ë³´ë‚´ê¸°ë¡œ ì˜¬ë°”ë¥¸ txt íŒŒì¼ì¸ì§€ í™•ì¸í•˜ì„¸ìš”
                `;
                
                const resultsHeader = document.querySelector('.results-header');
                resultsHeader.insertAdjacentElement('afterend', warningDiv);
            }

            createChart(data);
            displayKeywordAnalysis(keywordData);
            displayEmotionAnalysis(emotionData);
            createTable(data, totalMessages);
            
            document.querySelector('.results-section').style.display = 'block';
        }

        function createChart(data) {
            const chartContainer = document.querySelector('.chart-container');
            
            if (typeof Chart === 'undefined') {
                console.warn('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì°¨íŠ¸ë¥¼ ìƒëµí•©ë‹ˆë‹¤.');
                chartContainer.classList.add('hidden');
                return;
            }

            chartContainer.classList.remove('hidden');
            const ctx = document.getElementById('chatChart').getContext('2d');
            
            if (chatChart) {
                chatChart.destroy();
            }

            const labels = data.map(item => {
                const date = new Date(item.date);
                return date.toLocaleDateString('ko-KR', { 
                    month: 'short', 
                    day: 'numeric' 
                });
            });

            chatChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ì¼ë³„ ë©”ì‹œì§€ ìˆ˜',
                        data: data.map(item => item.count),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#667eea',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function createTable(data, totalMessages) {
            const tableBody = document.getElementById('dataTable');
            tableBody.innerHTML = '';

            data.forEach(item => {
                const row = document.createElement('tr');
                const percentage = ((item.count / totalMessages) * 100).toFixed(1);
                
                const date = new Date(item.date);
                const formattedDate = date.toLocaleDateString('ko-KR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                row.innerHTML = `
                    <td>${formattedDate}</td>
                    <td>${item.count.toLocaleString()}ê°œ</td>
                    <td>${percentage}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function showLoading() {
            document.querySelector('.loading').style.display = 'block';
        }

        function hideLoading() {
            document.querySelector('.loading').style.display = 'none';
        }

        function showError(message) {
            const errorDiv = document.querySelector('.error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function hideError() {
            document.querySelector('.error').style.display = 'none';
        }

        function copyResults() {
            if (!analysisData) return;

            const totalMessages = analysisData.reduce((sum, item) => sum + item.count, 0);
            const totalDays = analysisData.length;
            const avgMessages = Math.round(totalMessages / totalDays);
            const maxMessages = Math.max(...analysisData.map(item => item.count));

            let copyText = `ğŸ“Š ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… ë¶„ì„ ê²°ê³¼\n`;
            copyText += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            copyText += `ğŸ“ˆ ì „ì²´ í†µê³„\n`;
            copyText += `â€¢ ì´ ë©”ì‹œì§€ ìˆ˜: ${totalMessages.toLocaleString()}ê°œ\n`;
            copyText += `â€¢ ëŒ€í™” ì¼ìˆ˜: ${totalDays.toLocaleString()}ì¼\n`;
            copyText += `â€¢ ì¼í‰ê·  ë©”ì‹œì§€: ${avgMessages.toLocaleString()}ê°œ\n`;
            copyText += `â€¢ ìµœëŒ€ ì¼ ë©”ì‹œì§€: ${maxMessages.toLocaleString()}ê°œ\n\n`;
            
            if (keywordData && keywordData.keywords.length > 0) {
                copyText += `ğŸ” í•µì‹¬ í‚¤ì›Œë“œ ë¶„ì„\n`;
                copyText += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                copyText += `â€¢ ì´ ë‹¨ì–´ ìˆ˜: ${keywordData.totalWords.toLocaleString()}ê°œ\n`;
                copyText += `â€¢ ê³ ìœ  ë‹¨ì–´ ìˆ˜: ${keywordData.uniqueWords.toLocaleString()}ê°œ\n`;
                copyText += `â€¢ ë©”ì‹œì§€ë‹¹ í‰ê·  ë‹¨ì–´: ${keywordData.avgWordsPerMessage.toLocaleString()}ê°œ\n\n`;
                
                copyText += `ğŸ† í•µì‹¬ í‚¤ì›Œë“œ Top 10 (2ê¸€ì ì´ìƒ, 2íšŒ ì´ìƒ)\n`;
                copyText += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                keywordData.keywords.slice(0, 10).forEach((keyword, index) => {
                    copyText += `${index + 1}. ${keyword.word}: ${keyword.count}íšŒ (${keyword.percentage}%)\n`;
                });
                copyText += `\n`;
            }

            if (emotionData) {
                copyText += `ğŸ˜Š ê°ì • ë¶„ì„\n`;
                copyText += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                const total = emotionData.total;
                const positivePercent = ((emotionData.positive / total) * 100).toFixed(1);
                const negativePercent = ((emotionData.negative / total) * 100).toFixed(1);
                const neutralPercent = ((emotionData.neutral / total) * 100).toFixed(1);
                
                copyText += `â€¢ ğŸ˜Š ê¸ì • ë©”ì‹œì§€: ${emotionData.positive.toLocaleString()}ê°œ (${positivePercent}%)\n`;
                copyText += `â€¢ ğŸ˜¢ ë¶€ì • ë©”ì‹œì§€: ${emotionData.negative.toLocaleString()}ê°œ (${negativePercent}%)\n`;
                copyText += `â€¢ ğŸ˜ ì¤‘ë¦½ ë©”ì‹œì§€: ${emotionData.neutral.toLocaleString()}ê°œ (${neutralPercent}%)\n\n`;
            }
            
            copyText += `ğŸ“… ë‚ ì§œë³„ ìƒì„¸ ë°ì´í„°\n`;
            copyText += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            
            analysisData.forEach(item => {
                const date = new Date(item.date);
                const formattedDate = date.toLocaleDateString('ko-KR', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit'
                });
                const percentage = ((item.count / totalMessages) * 100).toFixed(1);
                copyText += `${formattedDate}: ${item.count.toLocaleString()}ê°œ (${percentage}%)\n`;
            });

            copyText += `\nğŸŒ™ ëª¨ì½” ì¹´ì¹´ì˜¤í†¡ ë¶„ì„ê¸°ë¡œ ë¶„ì„ë¨`;

            navigator.clipboard.writeText(copyText).then(() => {
                showCopySuccess();
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = copyText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showCopySuccess();
            });
        }

        function showCopySuccess() {
            const successDiv = document.getElementById('copySuccess');
            successDiv.classList.add('show');
            setTimeout(() => {
                successDiv.classList.remove('show');
            }, 2000);
        }

        function toggleDebug() {
            const debugSection = document.getElementById('debugSection');
            const isVisible = debugSection.style.display === 'block';
            
            if (isVisible) {
                debugSection.style.display = 'none';
            } else {
                debugSection.style.display = 'block';
                updateDebugInfo();
            }
        }

        function updateDebugInfo() {
            const debugContent = document.getElementById('debugContent');
            if (window.lastDebugInfo) {
                debugContent.innerHTML = window.lastDebugInfo.join('<br>');
            } else {
                debugContent.innerHTML = 'ë””ë²„ê·¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. íŒŒì¼ì„ ë‹¤ì‹œ ë¶„ì„í•´ì£¼ì„¸ìš”.';
            }
        }

        function resetAnalysis() {
            document.querySelector('.results-section').style.display = 'none';
            document.querySelector('.chart-container').classList.remove('hidden');
            document.getElementById('debugSection').style.display = 'none';
            document.getElementById('fileInput').value = '';
            document.getElementById('keywordSearchInput').value = '';
            document.getElementById('searchResult').style.display = 'none';
            
            const existingWarning = document.querySelector('.results-section').querySelector('div[style*="background: #fff3cd"]');
            if (existingWarning) {
                existingWarning.remove();
            }
            
            if (chatChart) {
                chatChart.destroy();
                chatChart = null;
            }

            if (emotionChart) {
                emotionChart.destroy();
                emotionChart = null;
            }
            
            document.getElementById('keywordCloud').innerHTML = '';
            document.getElementById('keywordTable').innerHTML = '';
            
            analysisData = null;
            keywordData = null;
            emotionData = null;
            allMessageTexts = [];
            window.lastDebugInfo = null;
        }
    </script>
</body>
</html>